<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="description" content="测试 你好">
    <title>你春游我买单 戳我送牛股</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/default.css?v=3222">
    <script src="js/jquery-3.1.1.js"></script>
    <script src="js/default.js"></script>
    <script src="js/swiper.min.js"></script>
</head>

<body>
    <img src="images/share.jpg" alt="" class="" style="position:absolute;z-index: -9999;">
    <div class="drop hide"></div>
    <div class="share-tips hide" style="position: absolute;width: 100%;height: 100%;top: 0;left: 0;z-index: 9999;">
        <div style="    background-image: url(images/sprite.png);
    width: 4rem;
    height: 3rem;
    background-position: -37rem -2rem; float: right;background-repeat: no-repeat;"></div>
        <div style="float: right;margin-top: 1.5rem; color: #fff;">点击右上角分享朋友圈</div>
    </div>
    <div class="over-window hide">
        <p class="title-tips">恭喜您击中了牛股</p>
        <h1><span class="num"></span>  <span class="name"></span></h1>
        <div class="qrcode-wrapper">
            <img src="images/qrcode.jpg" alt="">
            <p>长按三秒关注有惊喜</p>
        </div>
        <a>确定</a>
        <p class="bottom-tips">股市有风险 入市须谨慎</p>
    </div>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide index-page">
                <ul class="fly-ele-list">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
                <div class="title-content"><img class="title-font" src="images/title_font.png" alt=""></div>
                <div class="yellow-monster">
                    <div class="ele-mouth"></div>
                    <div class="ele-packet1"></div>
                    <div class="ele-packet2"></div>
                    <div class="ele-coin-packet1"></div>
                    <div class="ele-coin-packet2"></div>
                    <div class="ele-coin-packet3"></div>
                    <div class="ele-coin1"></div>
                    <div class="ele-coin2"></div>
                    <div class="ele-coin3"></div>
                    <div class="ele-coin4"></div>
                    <div class="ele-coin5"></div>
                    <div class="ele-coin6"></div>
                    <div class="ele-coin7"></div>
                    <div class="ele-coin8"></div>
                    <div class="ele-coin9"></div>
                </div>
                <div class="red-packet-bg">
                    <div class="up-arrow">↑</div>
                    <div class="open-btn"></div>
                </div>
            </div>
            <div class="swiper-slide  flying-page">
                <ul class="fly-ele-list">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
                <div class="fly-code-list">
                    <ul>
                    </ul>
                </div>
                <div class="fly-title"></div>
                <div class="fly-red-packet">
                    <a id="click-btn">点我</a>
                </div>
                <div class="up-arrow">↑</div>
                <div class="hill-bottom"></div>
            </div>
            <div class="swiper-slide  share-page">
                <ul class="fly-ele-list">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ul>
                <div class="yellow-monster">
                    <div class="ele-mouth"></div>
                    <div class="ele-packet1"></div>
                    <div class="ele-packet2"></div>
                    <div class="ele-coin-packet1"></div>
                    <div class="ele-coin-packet2"></div>
                    <div class="ele-coin-packet3"></div>
                    <div class="ele-coin1"></div>
                    <div class="ele-coin2"></div>
                    <div class="ele-coin3"></div>
                    <div class="ele-coin4"></div>
                    <div class="ele-coin5"></div>
                    <div class="ele-coin6"></div>
                    <div class="ele-coin7"></div>
                    <div class="ele-coin8"></div>
                    <div class="ele-coin9"></div>
                </div>
                <div class="code"></div>
                <div class="name"></div>
                <div class="share-btn">分享给朋友</div>
                <div class="qrcode-wrapper"><img src="images/qrcode.jpg" alt="">
                    <p>长按三秒加关注</p>
                </div>
                <div class="hill-bottom"></div>
            </div>
        </div>
    </div>
    <script>
    var result = new Object();
    result.name = "聚隆科技";
    result.number = "300475";

    var received = Boolean(localStorage.received0401);
    if (received) {
     //   $(".flying-page").addClass('executed')
    }

    var temp_arr = result.number.split("");
    var temp_html = new String();
    for (var i = 0; i < temp_arr.length; i++) {
        temp_html += "<li>" + temp_arr[i] + "</li>";
    }
    $(".fly-code-list ul").html(temp_html);
    $(".share-page .code,.over-window  h1 .num").html(result.number);
    $(".over-window  h1 .name,.fly-title,.share-page .name").html(result.name);




    var swiper = new Swiper('.swiper-container', {
        direction: 'vertical',
        longSwipesRatio: 0.1,
        onSlideChangeEnd: function(swiper) {
         if (swiper.activeIndex == 1) {
                if (!$(".flying-page").hasClass('executed')) {
                    gameinit();
                    swiper.params.allowSwipeToNext = false;
                }
            } else {
                swiper.params.allowSwipeToNext = true;
                $(".c1,.c2").remove();
            }
        }
    });



    function gameinit() {
        var temp_clone1 = $(".fly-ele-list").eq(0).clone();
        temp_clone1.css("top", "20rem").addClass('c1');
        var temp_clone2 = $(".fly-ele-list").eq(0).clone();
        temp_clone2.css("top", "-20rem").addClass('c2');
        $(".flying-page .fly-ele-list").after(temp_clone1);
        $(".flying-page .fly-ele-list").eq(0).before(temp_clone2);
    }

    $(".share-btn").click(function() {
        $(".drop,.share-tips").removeClass("hide");
    });

    var click_times = 0;
    $(".flying-page").click(function(event) {
        /* Act on the event */
        var flag = $(".fly-ele-list").hasClass('flying') || $(".fly-ele-list").hasClass('speed-up');
        if (!flag) {
            swiper.params.allowSwipeToPrev = false;
            $(".flying-page").addClass('flying');
            $(".fly-ele-list").addClass('speed-up');
            setTimeout(function() {
                $(".fly-ele-list.speed-up").removeClass('speed-up').addClass('flying');
            }, 3000);
        } else {
            click_times++;
            switch (click_times) {
                case 1:
                    $(".fly-code-list ul li").eq(0).addClass('flying');
                    break;
                case 2:
                    $(".fly-code-list ul li").eq(1).addClass('flying');
                    $(".fly-ele-list").addClass('speed1');
                    break;
                case 3:
                    $(".fly-code-list ul li").eq(2).addClass('flying');
                    break;
                case 4:
                    $(".fly-code-list ul li").eq(3).addClass('flying');
                    $(".fly-ele-list").addClass('speed2');
                    break;
                case 5:
                    $(".fly-code-list ul li").eq(4).addClass('flying');
                    break;
                case 6:
                    $(".fly-code-list ul li").eq(5).addClass('flying');
                    $(".fly-ele-list").addClass('speed3');
                    break;
                case 7:
                    $(".fly-title").addClass('flying');
                    break;
                case 8:
                    $(".fly-red-packet").addClass('fly-out');
                    swiper.params.allowSwipeToPrev = true;
                    swiper.params.allowSwipeToNext = true;
                    $(".c1,.c2").remove();
                    $(".fly-ele-list").removeClass().addClass('fly-ele-list');
                    $(".flying-page").addClass('executed');
                      $(".flying-page").unbind();
                    setTimeout(function() {
                        $(".over-window,.drop").removeClass("hide");
                        localStorage.received0401 = true;
                    }, 1000);

                    break;
            }
        }

    });


    $(".over-window a").click(function(event) {
        /* Act on the event */
        swiper.slideTo(2, 1000, false);
        $(".over-window,.drop").addClass("hide");
    });
    </script>
</body>

</html>
